<script src="component.js"></script>


<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>城市搜索</title>
</head>
<body>
    <web-styles></web-styles>
    <div class="container" style="position: relative;">
        <button type='button' class='btn-red' onclick="goBack()" style="position: absolute; left: 25px; top: 20;">返回</button>
        <div style="margin-bottom:18px;">
            <h1 style="text-align: center; margin:0;">城市搜索</h1>
        </div>
        <form action="/citysearch_result" method="GET">
            <input type="text" name="location" placeholder="请输入城市名或拼音" required style="width: 100%;">
            <div style='display: flex;flex-direction: column; gap: 16px; width: 100%;'>
                <input type="submit" value="搜索" class='btn-blue' onclick="showLoading()">
            </div>
        </form>
        <div class="loading hidden">
            <div class="spinner"></div>
            <p>搜索中...</p>
        </div>
    </div>
</body>
<script>
    function goBack() {
        window.location.href = '../';
    }
    function showLoading() {
        var input = document.querySelector('input[name="location"]');
        if (input.value.trim() === '') return;
        document.querySelector('.loading').classList.remove('hidden');
    }
</script>
</html>