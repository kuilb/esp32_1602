; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

; [env:esp32s3-1602]
; platform = espressif32@6.4.0
; board = esp32-s3-devkitc-1
; framework = arduino
; lib_deps =
;   FastLED
;   ArduinoJson
;   libsodium
;   zlib_turbo

; upload_port =              ; 默认自动指定烧录串口端口
; upload_speed = 921600      ; 上传波特率
; monitor_port =             ; 默认自动指定串口监视器端口
; monitor_speed = 115200     ; 串口监视器波特率

; ; ESP32-S3-N8R8 配置
; build_flags =
;   -D ARDUINO_RUNNING_CORE=1
;   -D ARDUINO_NO_NEOPIXEL           ; 关闭Dev KIt C的板载RGB初始化
;   -D CONFIG_ESP32_ENABLE_COREDUMP_TO_FLASH=1  ; 启用coredump到Flash
;   -D CONFIG_ESP32_COREDUMP_DATA_FORMAT_ELF=1  ; 使用ELF格式
;   -D CONFIG_SPIRAM_SUPPORT=1       ; 启用PSRAM支持
;   -D CONFIG_SPIRAM=1               ; 启用SPIRAM
;   -D BOARD_HAS_PSRAM=1             ; 标记板子有PSRAM
;   -D CONFIG_SPIRAM_MODE_OCT=1      ; 使用OCT模式(8线)PSRAM
;   -D CONFIG_SPIRAM_SPEED_80M=1     ; PSRAM速度80MHz
;   -I include                       ; 添加根include目录
;   -I include/hardware              ; 添加硬件模块include路径
;   -I include/connectivity          ; 添加连接模块include路径
;   -I include/applications          ; 添加应用模块include路径
;   -I include/services              ; 添加服务模块include路径
;   -I include/utils                 ; 添加工具模块include路径

; board_build.flash_mode = qio      ; flash模式
; board_build.f_cpu = 240000000L    ; CPU频率
; board_build.flash_size = 8MB      ; flash大小 - ESP32-S3-N8R8
; board_build.psram_type = opi      ; OPI PSRAM类型
; board_build.memory_type = qio_opi ; 内存类型

; board_build.partitions = partitions.csv ; 自定义分区表

; 调试配置环境
[env:esp32s3-1602-debug]
platform = espressif32@6.4.0
board = esp32-s3-devkitc-1
framework = arduino
lib_deps =
  FastLED
  ArduinoJson
  libsodium
  zlib_turbo

upload_port =              ; 默认自动指定烧录串口端口
upload_speed = 921600      ; 上传波特率
monitor_port =             ; 默认自动指定串口监视器端口
monitor_speed = 115200     ; 串口监视器波特率

; 调试模式配置
build_type = debug        ; 启用调试模式
debug_tool = esp-builtin  ; 使用内置调试工具
debug_init_break = tbreak setup ; 在setup函数处断点

build_flags =
  -D ARDUINO_RUNNING_CORE=1
  -D ARDUINO_NO_NEOPIXEL           ; 关闭Dev KIt C的板载RGB初始化
  -D CONFIG_ESP32_ENABLE_COREDUMP_TO_FLASH=1  ; 启用coredump到Flash
  -D CONFIG_ESP32_COREDUMP_DATA_FORMAT_ELF=1  ; 使用ELF格式
  -D CONFIG_SPIRAM_SUPPORT=1       ; 启用PSRAM支持
  -D CONFIG_SPIRAM=1               ; 启用SPIRAM
  -D BOARD_HAS_PSRAM=1             ; 标记板子有PSRAM
  -D CONFIG_SPIRAM_MODE_OCT=1      ; 使用OCT模式(8线)PSRAM
  -D CONFIG_SPIRAM_SPEED_80M=1     ; PSRAM速度80MHz
  -D CORE_DEBUG_LEVEL=5            ; 最高调试级别
  -D CONFIG_LOG_DEFAULT_LEVEL=5    ; 启用详细日志
  -D CONFIG_LOG_MAXIMUM_LEVEL=5    ; 最大日志级别
  -O0                              ; 禁用优化，便于调试
  -g3                              ; 生成最详细的调试信息
  -ggdb                            ; 生成GDB调试信息
  -I include                       ; 添加根include目录
  -I include/hardware              ; 添加硬件模块include路径
  -I include/connectivity          ; 添加连接模块include路径
  -I include/applications          ; 添加应用模块include路径
  -I include/services              ; 添加服务模块include路径
  -I include/utils                 ; 添加工具模块include路径
  -g3                              ; 生成最详细的调试信息
  -ggdb                            ; 生成GDB调试信息

build_unflags =
  -O2                              ; 移除O2优化
  -Os                              ; 移除尺寸优化

board_build.flash_mode = qio      ; flash模式
board_build.f_cpu = 240000000L    ; CPU频率
board_build.flash_size = 8MB      ; flash大小 - ESP32-S3-N8R8
board_build.psram_type = opi      ; OPI PSRAM类型
board_build.memory_type = qio_opi ; 内存类型

board_build.partitions = partitions.csv ; 自定义分区表

; ; 监视器过滤器，自动解码异常信息
; monitor_filters = 
;   esp32_exception_decoder


; SPIFFS 文件系统分区配置
; board_build.filesystem = spiffs

; 指定 SPIFFS 文件夹路径（默认是项目根目录下的 `data` 文件夹）
; 你存放要上传的文件都放在这个文件夹内
; 使用pio run --target uploadfs上传文件系统
